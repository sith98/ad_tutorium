\documentclass[11pt,a4paper]{article}

\usepackage{gastex}
\usepackage{etoolbox}
% \newcommand{\showLoesung}{2} %<---als Schalter
%\newcommand{\showInhalt}{1} %<---als Schalter

\input{../skel/uebmacsPNG}

\usepackage{enumitem}
\usepackage{algpseudocode}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{placeins}
\usepackage{multicol}
\usepackage{slashbox}
\usepackage{fancyvrb}
\usepackage{ulem}
\usepackage{amssymb}

\begin{document}
\thispagestyle{empty}
\DeclareRobustCommand{\ttfamily}{\fontencoding{T1}\fontfamily{lmtt}\selectfont}

\newcommand{\quotes}[1]{\glqq{}#1\grqq{}}

\Uebung{11}{12}{Simon Thelen}{13. Januar 2021}  % FIXME: Blattnummer, Datum, Zeit

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifcsdef{showLoesung}{
\textbf{Bitte beachten Sie:} Die Lösungen können trotz sorgfältiger Prüfung Fehler enthalten.
Bei Fragen oder Unklarheiten kontaktieren Sie bitte den Tutor oder Dozenten in Tutorien, Übungen oder nach Vorlesungen.
}{}

\begin{aufgabe}{1}{Tiefensuche}
    \begin{enumerate}
        \item Zeigen oder widerlegen Sie folgende Aussage:
        \emph{Wenn während einer Tiefensuche auf einem ungerichteten Graphen eine Kante $(v, w)$ betrachtet wird, ist $w$ niemals schwarz.}
        \item Zeigen oder widerlegen Sie folgende Aussage:
        \emph{Wenn während einer Tiefensuche auf einem gerichteten, azyklischen Graphen eine Kante $(v, w)$ betrachtet wird, ist $w$ niemals grau.}
    \end{enumerate}
\end{aufgabe}

\begin{aufgabe}{2}{Minimale Spannbäume}
    Gegeben seien folgende Graphen:
    \begin{figure}[h!]
        \centering
        $G_1$:
        \begin{subfigure}{0.34\textwidth}
            \centering
            \begin{tikzpicture}[scale=0.15]
                \tikzstyle{every node}+=[inner sep=0pt]
                \draw [black] (20.9,-19.3) circle (3);
                \draw (20.9,-19.3) node {$1$};
                \draw [black] (34.9,-19.3) circle (3);
                \draw (34.9,-19.3) node {$2$};
                \draw [black] (21.1,-32.2) circle (3);
                \draw (21.1,-32.2) node {$4$};
                \draw [black] (48.6,-19.3) circle (3);
                \draw (48.6,-19.3) node {$3$};
                \draw [black] (48.6,-32.2) circle (3);
                \draw (48.6,-32.2) node {$6$};
                \draw [black] (34.9,-32.2) circle (3);
                \draw (34.9,-32.2) node {$5$};
                \draw [black] (23.9,-19.3) -- (31.9,-19.3);
                \draw (27.9,-18.8) node [above] {$1$};
                \draw [black] (20.95,-22.3) -- (21.05,-29.2);
                \fill [black] (21.05,-29.2) -- (21.54,-28.39) -- (20.54,-28.41);
                \draw (20.48,-25.75) node [left] {$1$};
                \draw [black] (48.6,-22.3) -- (48.6,-29.2);
                \draw (48.1,-25.75) node [left] {$2$};
                \draw [black] (32.71,-21.35) -- (23.29,-30.15);
                \draw (26.98,-25.27) node [above] {$2$};
                \draw [black] (37.08,-21.36) -- (46.42,-30.14);
                \draw (42.77,-25.27) node [above] {$3$};
                \draw [black] (24.1,-32.2) -- (31.9,-32.2);
                \draw (28,-31.7) node [above] {$3$};
                \draw [black] (34.9,-29.2) -- (34.9,-22.3);
                \draw (35.4,-25.75) node [right] {$4$};
                \draw [black] (37.9,-19.3) -- (45.6,-19.3);
                \draw (41.75,-18.8) node [above] {$4$};
                \draw [black] (37.9,-32.2) -- (45.6,-32.2);
                \draw (41.75,-31.7) node [above] {$4$};
            \end{tikzpicture}
        \end{subfigure}
        $G_2$:
        \begin{subfigure}{0.38\textwidth}
            \centering
            \begin{tikzpicture}[scale=0.15]
                \tikzstyle{every node}+=[inner sep=0pt]
                \draw [black] (16.1,-16.8) circle (3);
                \draw (16.1,-16.8) node {$1$};
                \draw [black] (32.1,-16.8) circle (3);
                \draw (32.1,-16.8) node {$2$};
                \draw [black] (16.1,-31.8) circle (3);
                \draw (16.1,-31.8) node {$4$};
                \draw [black] (32.1,-31.8) circle (3);
                \draw (32.1,-31.8) node {$5$};
                \draw [black] (47.8,-31.8) circle (3);
                \draw (47.8,-31.8) node {$6$};
                \draw [black] (47.8,-16.8) circle (3);
                \draw (47.8,-16.8) node {$3$};
                \draw [black] (16.1,-47.2) circle (3);
                \draw (16.1,-47.2) node {$7$};
                \draw [black] (32.1,-47.2) circle (3);
                \draw (32.1,-47.2) node {$8$};
                \draw [black] (47.8,-47.2) circle (3);
                \draw (47.8,-47.2) node {$9$};
                \draw [black] (34.27,-29.73) -- (45.63,-18.87);
                \draw (38.93,-23.82) node [above] {$1$};
                \draw [black] (44.8,-31.8) -- (35.1,-31.8);
                \draw (39.95,-31.3) node [above] {$2$};
                \draw [black] (47.8,-28.8) -- (47.8,-19.8);
                \draw (47.3,-24.3) node [left] {$3$};
                \draw [black] (19.1,-47.2) -- (29.1,-47.2);
                \draw (24.1,-46.7) node [above] {$4$};
                \draw [black] (18.29,-29.75) -- (29.91,-18.85);
                \draw (23.08,-23.82) node [above] {$5$};
                \draw [black] (19.1,-31.8) -- (29.1,-31.8);
                \draw (24.1,-31.3) node [above] {$6$};
                \draw [black] (16.1,-34.8) -- (16.1,-44.2);
                \draw (15.6,-39.5) node [left] {$7$};
                \draw [black] (32.1,-34.8) -- (32.1,-44.2);
                \draw (31.6,-39.5) node [left] {$8$};
                \draw [black] (35.1,-16.8) -- (44.8,-16.8);
                \draw (39.95,-16.3) node [above] {$9$};
                \draw [black] (19.1,-16.8) -- (29.1,-16.8);
                \draw (24.1,-16.3) node [above] {$10$};
                \draw [black] (16.1,-19.8) -- (16.1,-28.8);
                \draw (15.6,-24.3) node [left] {$11$};
                \draw [black] (47.8,-34.8) -- (47.8,-44.2);
                \draw (47.3,-39.5) node [left] {$13$};
                \draw [black] (35.1,-47.2) -- (44.8,-47.2);
                \draw (39.95,-46.7) node [above] {$14$};
                \draw [black] (34.24,-45.1) -- (45.66,-33.9);
                \draw (38.43,-39.02) node [above] {$12$};
                \draw [black] (18.26,-45.12) -- (29.94,-33.88);
                \draw (22.58,-39.02) node [above] {$15$};
                \draw [black] (32.1,-28.8) -- (32.1,-19.8);
                \draw (31.6,-24.3) node [left] {$16$};
            \end{tikzpicture}
        \end{subfigure}
    \end{figure}
    \FloatBarrier
    \begin{enumerate}[label=\alph*)]
        \item Demonstieren Sie den Algorithmus von Kruskal zum Finden von minimalen Spannbäumen an $G_1$ und $G_2$ nach dem Schema aus der Vorlesung.
        Geben Sie für jeden Zwischenschritt den bisherigen Teil-MST sowie den aktuellen Zustand der Union-Find-Datenstruktur an.
        \item Demonstieren Sie den Algorithmus von Prim zum Finden von minimalen Spannbäumen an $G_1$ und $G_2$ nach dem Schema aus der Vorlesung.
        Starten Sie jeweils bei Knoten 1.
        Geben Sie für jeden Zwischenschritt den bisherigen Teil-MST sowie den aktuellen Zustand des Min-Heaps an.
        \item In $G_2$ gilt $\forall (v, w) \in E$: $w(v, w) = \{1, 2, \ldots, |E|\}$.
        Wie kann man den Algorithmus von Kruskal in einem solchen Fall mithilfe eines anderen Sortieralgorithmus beschleunigen?
        Welche Laufzeit hat Kruskal dann?
        \item\label{connected_components}Ein ungerichteter Graph lässt sich in disjunkte \emph{Zusammenhangskomponenten} aufteilen, wobei sich in der Komponente, in der der Knoten $v$ liegt, genau die von $v$ aus erreichbaren Knoten befinden.
        Implementieren Sie einen Algorithmus in Pseudocode oder einer Programmiersprache Ihrer Wahl auf Basis der Union-Find-Datenstruktur aus der Vorlesung, der alle Zusammenhangskomponenten eines ungerichteten Graphen findet.
        Welche Worst-Case-Laufzeit hat Ihr Algorithmus?
        \item
        Wie können Sie das Problem aus Teilaufgabe \ref*{connected_components} schneller, nämlich in $O(|V| + |E|)$, mit einem Ihnen aus der Vorlesung bekannten Graphalgorithmus lösen?
    \end{enumerate}
\end{aufgabe}

\begin{aufgabe}{3}{Kürzeste Wege}
    Gegeben sei folgender Graph $G_3$:
    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}[scale=0.15]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (18.6,-17.6) circle (3);
            \draw (18.6,-17.6) node {$a$};
            \draw [black] (31.8,-17.4) circle (3);
            \draw (31.8,-17.4) node {$b$};
            \draw [black] (45.4,-17.4) circle (3);
            \draw (45.4,-17.4) node {$c$};
            \draw [black] (18.6,-29.1) circle (3);
            \draw (18.6,-29.1) node {$d$};
            \draw [black] (31.8,-29.1) circle (3);
            \draw (31.8,-29.1) node {$e$};
            \draw [black] (45.4,-29.1) circle (3);
            \draw (45.4,-29.1) node {$f$};
            \draw [black] (21.6,-17.55) -- (28.8,-17.45);
            \fill [black] (28.8,-17.45) -- (27.99,-16.96) -- (28.01,-17.96);
            \draw (25.2,-16.98) node [above] {$4$};
            \draw [black] (18.6,-20.6) -- (18.6,-26.1);
            \fill [black] (18.6,-26.1) -- (19.1,-25.3) -- (18.1,-25.3);
            \draw (18.1,-23.35) node [left] {$2$};
            \draw [black] (20.85,-27.11) -- (29.55,-19.39);
            \fill [black] (29.55,-19.39) -- (28.62,-19.55) -- (29.29,-20.29);
            \draw (24.19,-22.76) node [above] {$1$};
            \draw [black] (31.8,-20.4) -- (31.8,-26.1);
            \fill [black] (31.8,-26.1) -- (32.3,-25.3) -- (31.3,-25.3);
            \draw (31.3,-23.25) node [left] {$2$};
            \draw [black] (21.6,-29.1) -- (28.8,-29.1);
            \fill [black] (28.8,-29.1) -- (28,-28.6) -- (28,-29.6);
            \draw (25.2,-29.6) node [below] {$4$};
            \draw [black] (30.372,-31.724) arc (-37.69112:-224.43443:9.416);
            \fill [black] (16.2,-19.37) -- (15.28,-19.6) -- (15.99,-20.3);
            \draw (15.72,-33.56) node [below] {$1$};
            \draw [black] (34.8,-17.4) -- (42.4,-17.4);
            \fill [black] (42.4,-17.4) -- (41.6,-16.9) -- (41.6,-17.9);
            \draw (38.6,-16.9) node [above] {$3$};
            \draw [black] (43.789,-19.929) arc (-35.78379:-62.80578:26.108);
            \fill [black] (43.79,-19.93) -- (42.92,-20.29) -- (43.73,-20.87);
            \draw (40.65,-24.95) node [below] {$1$};
            \draw [black] (33.471,-26.61) arc (143.10748:118.30295:28.307);
            \fill [black] (33.47,-26.61) -- (34.35,-26.27) -- (33.55,-25.67);
            \draw (36.64,-21.65) node [above] {$1$};
            \draw [black] (34.8,-29.1) -- (42.4,-29.1);
            \fill [black] (42.4,-29.1) -- (41.6,-28.6) -- (41.6,-29.6);
            \draw (38.6,-29.6) node [below] {$3$};
            \draw [black] (45.4,-20.4) -- (45.4,-26.1);
            \fill [black] (45.4,-26.1) -- (45.9,-25.3) -- (44.9,-25.3);
            \draw (45.9,-23.25) node [right] {$1$};
        \end{tikzpicture}
    \end{figure}
    \FloatBarrier
    \begin{enumerate}
        \item Demonstieren Sie den Algorithmus von Bellman und Ford nach dem Schema aus der Vorlesung, indem Sie in $G_3$ alle kürzesten Wege, beginnend bei Knoten $a$, suchen.
        Durchlaufen Sie Kanten $(v, w)$ alphabetisch~(nach $v$, dann nach $w$).
        Geben Sie alle Zwischenschritte an.
        \item Demonstieren Sie den Algorithmus von Dijkstra nach dem Schema aus der Vorlesung, indem Sie in $G_3$ alle kürzesten Wege, beginnend bei Knoten $a$, suchen.
        Geben Sie alle Zwischenschritte an.
        \item Suchen Sie nach demselben Schema mittels Dijkstra die kürzesten Wege in $G_2$, beginnend bei Knoten 1.
        \item Bei welchen Arten von Graphen ist Dijkstra mit einen Array statt eines Min-Heaps potentiell effizienter?
        \item Zeigen Sie anhand eines Beispiels, dass Dijkstra bei negativen Kantengewichten nicht immer kürzeste Wege findet.
        \item Angenommen, die Kantengewichte eines Graphen werden angepasst: $w'(v, w) = w(v, w) - \min\limits_{(u, u') \in E} \{w(u, u') \}$.
        Die neuen Gewichte $w'(v, w)$ sind stets nicht-negativ, sodass prinzipiell Dijkstra auf den Graphen mit angepassten Gewichten angewendet werden könnte.
        Zeigen Sie anhand eines Beispiels, dass sich kürzeste Wege durch das Anpassen der Gewichte ändern können.
        \item Implementieren Sie einen Algorithmus in Pseudocode oder einer Programmiersprache Ihrer Wahl, der alle kürzesten Wege in einem gerichteten, azyklischen Graphen beginnend bei einem Knoten $v$ in Laufzeit $O(|V| + |E|)$ findet.
        \begin{description}
            \item[Tipp:] Wenn Sie alle Kanten entlang eines kürzesten Weges in der Reihenfolge relaxieren, in der sie auf dem Weg vorkommen, haben Sie den kürzesten Weg gefunden.
        \end{description}
    \end{enumerate}
\end{aufgabe}
\begin{aufgabe}{4}{Längste Wege}
    Der \emph{längste Weg} zwischen zwei Knoten $v$ und $w$ ist der längste, zyklenfreie (!) Pfad von $v$ nach $w$.
    \begin{enumerate}
        \item Widerlegen Sie folgende Aussage, zum Beispiel mithilfe eines Gegenbeispiels:
        \emph{Längste Wege bilden eine optimale Substruktur. Das heißt, längste Wege enhalten stets längste Wege.}
        \item Zeigen Sie folgende Aussage:
        \emph{Längste Wege in einem gerichteten, azyklischen Graphen bilden eine optimale Substruktur.}
        \item Beschreiben Sie kurz, wie Sie mit einem Algorithmus aus der Vorlesung längste Wege beginnend bei einem Knoten $v$ in einem gerichteten, azyklischen Graphen finden können.
    \end{enumerate}
\end{aufgabe}

\end{document}