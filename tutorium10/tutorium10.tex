\documentclass[11pt,a4paper]{article}

\usepackage{gastex}
\usepackage{etoolbox}
% \newcommand{\showLoesung}{2} %<---als Schalter
%\newcommand{\showInhalt}{1} %<---als Schalter

\input{../skel/uebmacsPNG}

\usepackage{enumitem}
\usepackage{algpseudocode}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{placeins}
\usepackage{multicol}
\usepackage{slashbox}
\usepackage{fancyvrb}
\usepackage{ulem}

\begin{document}
\thispagestyle{empty}
\DeclareRobustCommand{\ttfamily}{\fontencoding{T1}\fontfamily{lmtt}\selectfont}

\newcommand{\quotes}[1]{\glqq{}#1\grqq{}}

\Uebung{10}{11}{Simon Thelen}{16. Dezember 2021}  % FIXME: Blattnummer, Datum, Zeit

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifcsdef{showLoesung}{
\textbf{Bitte beachten Sie:} Die Lösungen können trotz sorgfältiger Prüfung Fehler enthalten.
Bei Fragen oder Unklarheiten kontaktieren Sie bitte den Tutor oder Dozenten in Tutorien, Übungen oder nach Vorlesungen.
}{}

\begin{aufgabe}{1}{Repräsentation von Graphen}
    Gegeben sei der Graph $G_1$:
    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}[scale=0.12]
            \tikzstyle{every node}+=[inner sep=0pt]
            \draw [black] (14.5,-16) circle (3);
\draw (14.5,-16) node {$1$};
\draw [black] (30.4,-16) circle (3);
\draw (30.4,-16) node {$2$};
\draw [black] (45.3,-16) circle (3);
\draw (45.3,-16) node {$3$};
\draw [black] (30.4,-31.4) circle (3);
\draw (30.4,-31.4) node {$6$};
\draw [black] (45.3,-31.4) circle (3);
\draw (45.3,-31.4) node {$7$};
\draw [black] (38,-24.1) circle (3);
\draw (38,-24.1) node {$5$};
\draw [black] (59.1,-16) circle (3);
\draw (59.1,-16) node {$4$};
\draw [black] (59.1,-31.4) circle (3);
\draw (59.1,-31.4) node {$8$};
\draw [black] (17.5,-16) -- (27.4,-16);
\fill [black] (27.4,-16) -- (26.6,-15.5) -- (26.6,-16.5);
\draw [black] (33.374,-15.614) arc (95.54669:84.45331:46.303);
\fill [black] (42.33,-15.61) -- (41.58,-15.04) -- (41.48,-16.03);
\draw [black] (30.4,-28.4) -- (30.4,-19);
\fill [black] (30.4,-19) -- (29.9,-19.8) -- (30.9,-19.8);
\draw [black] (42.3,-31.4) -- (33.4,-31.4);
\fill [black] (33.4,-31.4) -- (34.2,-31.9) -- (34.2,-30.9);
\draw [black] (45.3,-28.4) -- (45.3,-19);
\fill [black] (45.3,-19) -- (44.8,-19.8) -- (45.8,-19.8);
\draw [black] (32.45,-18.19) -- (35.95,-21.91);
\fill [black] (35.95,-21.91) -- (35.76,-20.99) -- (35.04,-21.67);
\draw [black] (40.01,-21.87) -- (43.29,-18.23);
\fill [black] (43.29,-18.23) -- (42.38,-18.49) -- (43.13,-19.16);
\draw [black] (16.858,-17.854) arc (50.89492:40.93546:93.126);
\fill [black] (16.86,-17.85) -- (17.16,-18.75) -- (17.79,-17.97);
\draw [black] (42.334,-16.448) arc (-83.55508:-96.44492:39.951);
\fill [black] (33.37,-16.45) -- (34.1,-17.03) -- (34.22,-16.04);
\draw [black] (56.1,-16) -- (48.3,-16);
\fill [black] (48.3,-16) -- (49.1,-16.5) -- (49.1,-15.5);
\draw [black] (57.1,-18.23) -- (47.3,-29.17);
\fill [black] (47.3,-29.17) -- (48.21,-28.9) -- (47.46,-28.24);
\draw [black] (59.1,-28.4) -- (59.1,-19);
\fill [black] (59.1,-19) -- (58.6,-19.8) -- (59.6,-19.8);
\draw [black] (48.3,-31.4) -- (56.1,-31.4);
\fill [black] (56.1,-31.4) -- (55.3,-30.9) -- (55.3,-31.9);
\draw [black] (29.077,-13.32) arc (234:-54:2.25);
\fill [black] (31.72,-13.32) -- (32.6,-12.97) -- (31.79,-12.38);
\draw [black] (16.401,-13.683) arc (136.04204:43.95796:18.752);
\fill [black] (16.4,-13.68) -- (17.32,-13.45) -- (16.6,-12.76);
\draw [black] (28.059,-29.524) arc (-129.55074:-138.61888:102.223);
\fill [black] (28.06,-29.52) -- (27.76,-28.63) -- (27.12,-29.4);

        \end{tikzpicture}
    \end{figure}
    \begin{enumerate}
        \item Geben Sie für $G_1$ die Adjazenzlistendarstellung (gestreute und dichte Speicherung) und die Adjazenzmatrixdarstellung an.
        \item Nennen Sie zwei Vor- und zwei Nachteile der Repräsentation von Graphen als Adjazenzmatrix im Vergleich zu Adjazenzlisten.
        \item Sie möchten zu einem gegebenen Knoten $v$ eines gerichteten Graphen $\operatorname{deg}^+(v)$ und $\operatorname{deg}^-(v)$, also Eingangs- und Ausgangsgrad, bestimmen.
        Wie schnell (in $O$-Notation) schaffen Sie dies, wenn Sie den Graphen als Adjazenzliste gegeben haben?
        Wie lange brauchen Sie, wenn Sie ihn als Adjazenzmatrix gegeben haben?
        \item 
        Gegeben seien die Adjazenzmatrix $M_1$ und die Inzidenzmatrix $M_2$.
        Sind die beiden Graphen gerichtet oder ungerichtet?
        Zeichnen Sie anschließend die Graphen.
        Nummerieren Sie dabei die Knoten anhand der Zeilen der jeweiligen Matrix.
        \begin{equation*}
            M_1 = \begin{pmatrix}
                0 & 1 & 1 & 0 & 0 \\
                1 & 0 & 1 & 1 & 1 \\
                1 & 1 & 0 & 1 & 1 \\
                0 & 1 & 1 & 0 & 1 \\
                0 & 1 & 1 & 1 & 0 
            \end{pmatrix}\,\,\,\,
            M_2 = \begin{pmatrix}
                -1 & 0 & 0 & 0 & 1 & 0 & -1 & 0 \\
                1 & -1 & 0 & 0 & 0 & 1 & 0 & 0 \\
                0 & 1 & -1 & 1 & 0 & 0 & 0 & 0 \\
                0 & 0 & 1 & -1 & -1 & 0 & 0 & 1 \\
                0 & 0 & 0 & 0 & 0 & -1 & 1 & -1
            \end{pmatrix}
        \end{equation*}
    \end{enumerate}
\end{aufgabe}

\begin{aufgabe}{2}{Breiten- und Tiefensuche}
    Gegeben sei $G_1$ aus Aufgabe 1 als Adjazenzliste.
    Die Kanten, die von einem Knoten aus beginnen, liegen in der entsprechenden Liste in numerisch aufsteigend sortierter Reihenfolge vor.
    \begin{enumerate}
        \item Führen Sie eine Breitensuche auf $G_1$ beginnend bei Knoten 1 gemäß dem Schema aus der Vorlesung durch.
        Geben Sie an, in welcher Reihenfolge Knoten ent\-deckt und abgeschlossen werden.
        \item Führen Sie eine Tiefensuche auf $G_1$ durch.
        Geben Sie an, in welcher Reihenfolge Knoten entdeckt und abgeschlossen werden.
        \item Angenommen, $G_1$ sei ungerichtet (alle Kanten sind in beide Richtung traversierbar, Selbstschleifen werden entfernt).
        Führen Sie eine Breitensuche und Tiefensuche auf dem ungerichteten Graphen durch.
        Geben Sie jeweils an, in welcher Reihenfolge Knoten entdeckt und abgeschlossen werden.
        \item Welche Laufzeit haben Breiten- und Tiefensuche, wenn ein Eingabegraph als Adjazenzmatrix vorliegt.
        \item
        Gegeben sei ein Baum als gerichteter Graph (die Wurzel hat Eingangsgrad 0, Blätter Ausgangsgrad 0, Kanten gehen von Eltern- zu Kindknoten).
        Angenommen, Sie beginnnen bei der Wurzel des Baumes einen Tiefensuchendurchlauf und geben alle Knoten in der Reihenfolge aus, in der Sie sie entdecken.
        Welcher Form von Baumtraversion entspricht dies?
        Wie sieht es aus, wenn Sie die Knoten in der Reihenfolge ausgeben, in der Sie sie abschließen?
        Was ist mit Breitensuche?
        \item
        Begründen Sie, warum die gestrichelten Linien in folgendem Graphen $G_2$ keinen Breitensuchenbaum bilden können.
        \begin{figure}[h!]
            \centering
            \begin{tikzpicture}[scale=0.1]
\tikzstyle{every node}+=[inner sep=0pt]
\draw [black] (24.3,-12.9) circle (3);
\draw (24.3,-12.9) node {$a$};
\draw [black] (40.9,-12.9) circle (3);
\draw (40.9,-12.9) node {$b$};
\draw [black] (24.3,-30) circle (3);
\draw (24.3,-30) node {$c$};
\draw [black] (32.7,-21.6) circle (3);
\draw (32.7,-21.6) node {$d$};
\draw [black] (40.9,-30) circle (3);
\draw (40.9,-30) node {$e$};
\draw [black, dashed] (27.3,-12.9) -- (37.9,-12.9);
\fill [black] (37.9,-12.9) -- (37.1,-12.4) -- (37.1,-13.4);
\draw [black, dashed] (24.3,-15.9) -- (24.3,-27);
\fill [black] (24.3,-27) -- (24.8,-26.2) -- (23.8,-26.2);
\draw [black, dashed] (38.84,-15.08) -- (34.76,-19.42);
\fill [black] (34.76,-19.42) -- (35.67,-19.18) -- (34.94,-18.49);
\draw [black, dashed] (27.3,-30) -- (37.9,-30);
\fill [black] (37.9,-30) -- (37.1,-29.5) -- (37.1,-30.5);
\draw [black] (40.9,-15.9) -- (40.9,-27);
\fill [black] (40.9,-27) -- (41.4,-26.2) -- (40.4,-26.2);
\draw [black] (26.42,-27.88) -- (30.58,-23.72);
\fill [black] (30.58,-23.72) -- (29.66,-23.93) -- (30.37,-24.64);
\end{tikzpicture}
        \end{figure}
    \end{enumerate}
\end{aufgabe}

\begin{aufgabe}{3}{Topologische Sortierung}
    Demonstieren Sie den Algorithmus zur Berechnung einer topologischen Sortierung aus der Vorlesung an folgendem Graphen $G_3$.
    Untersuchen Sie dabei stets den Knoten mit der kleinsten Zahl zuerst, wenn Sie die Wahl haben.
    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}[scale=0.12]
            \draw [black] (17.9,-17.4) circle (3);
\draw (17.9,-17.4) node {$1$};
\draw [black] (32.6,-17.4) circle (3);
\draw (32.6,-17.4) node {$2$};
\draw [black] (60.7,-17.4) circle (3);
\draw (60.7,-17.4) node {$4$};
\draw [black] (60.7,-30.9) circle (3);
\draw (60.7,-30.9) node {$8$};
\draw [black] (17.9,-30.9) circle (3);
\draw (17.9,-30.9) node {$5$};
\draw [black] (32.6,-30.9) circle (3);
\draw (32.6,-30.9) node {$6$};
\draw [black] (46.6,-30.9) circle (3);
\draw (46.6,-30.9) node {$7$};
\draw [black] (46.6,-17.4) circle (3);
\draw (46.6,-17.4) node {$3$};
\draw [black] (20.9,-17.4) -- (29.6,-17.4);
\fill [black] (29.6,-17.4) -- (28.8,-16.9) -- (28.8,-17.9);
\draw [black] (60.7,-20.4) -- (60.7,-27.9);
\fill [black] (60.7,-27.9) -- (61.2,-27.1) -- (60.2,-27.1);
\draw [black] (20.9,-30.9) -- (29.6,-30.9);
\fill [black] (29.6,-30.9) -- (28.8,-30.4) -- (28.8,-31.4);
\draw [black] (35.6,-30.9) -- (43.6,-30.9);
\fill [black] (43.6,-30.9) -- (42.8,-30.4) -- (42.8,-31.4);
\draw [black] (44.44,-19.48) -- (34.76,-28.82);
\fill [black] (34.76,-28.82) -- (35.68,-28.62) -- (34.99,-27.9);
\draw [black] (57.7,-17.4) -- (49.6,-17.4);
\fill [black] (49.6,-17.4) -- (50.4,-17.9) -- (50.4,-16.9);
\draw [black] (58.53,-19.47) -- (48.77,-28.83);
\fill [black] (48.77,-28.83) -- (49.69,-28.63) -- (49,-27.91);
\draw [black] (57.7,-30.9) -- (49.6,-30.9);
\fill [black] (49.6,-30.9) -- (50.4,-31.4) -- (50.4,-30.4);
\draw [black] (32.6,-20.4) -- (32.6,-27.9);
\fill [black] (32.6,-27.9) -- (33.1,-27.1) -- (32.1,-27.1);
\draw [black] (35.6,-17.4) -- (43.6,-17.4);
\fill [black] (43.6,-17.4) -- (42.8,-16.9) -- (42.8,-17.9);
\draw [black] (20.11,-19.43) -- (30.39,-28.87);
\fill [black] (30.39,-28.87) -- (30.14,-27.96) -- (29.46,-28.7);
\draw [black] (17.9,-20.4) -- (17.9,-27.9);
\fill [black] (17.9,-27.9) -- (18.4,-27.1) -- (17.4,-27.1);
        \end{tikzpicture}
        
    \end{figure}
\end{aufgabe}

\begin{aufgabe}{4}{Anwendungen von Tiefensuche}
    Implementieren Sie für folgende Probleme Algorithmen mit Laufzeit $O(|V| + |E|)$ in Pseudocode oder einer Programmiersprache Ihrer Wahl.
    Sie können davon ausgehen, dass Sie Graphen in Adjazenzlistenform (hybride Speicherung) vorliegen haben.
    \begin{enumerate}[label=\alph*)]
        \item 
        Gegeben sei ein ungerichteter Graph.
        Bestimmen Sie, ob der Graph zusammenhängend ist.
        \item \label{transpose} Gegeben sei ein gerichteter Graph $G = (V, E)$. Dann ist die Transposition dieses Graphen $G^T$ definiert als der Graph $G^T = (V, \{(v, u) \mid (u, v) \in E\})$.
        Berechnen Sie $G^T$.
        
        \emph{Zusatzfrage:} Wie müssten Sie vorgehen, wenn der Graph als Adjazenzmatrix vorläge?
        \item 
        Gegeben sei ein gerichteter Graph.
        Gestimmen Sie, ob der Graph stark zusammenhängend ist.
        Verwenden Sie dabei den Algorithmus aus Teilaufgabe \ref*{transpose} als Subroutine.
        \item
        Sie arbeiten an einem Softwareprojekt, bestehend aus mehreren Modulen, die untereinander Abhängigkeiten besitzen.
        Bevor ein Modul gebaut werden kann, müssen zuvor all seine Abhängigkeiten gebaut werden.
        Gegeben sei ein gerichteter, azyklischer Graph, bei dem Knoten Module repräsentieren und eine Kante $(v, w)$ für \quotes{$v$ hängt von $w$ ab} steht.
        Sie erhalten als Eingabe den Graphen und das Modul, welches gebaut werden soll.
        Geben Sie aus, welche Module in welcher Reihenfolge gebaut werden müssen.
        \item
        \emph{Schwer:} Gegeben sein ein zusammenhängender, ungerichteter Graph.
        Geben Sie einen zusammenhängenden Pfad durch den Graphen aus, der jede Kante genau zweimal traversiert, nämlich einmal in jede Richtung.
    \end{enumerate}
\end{aufgabe}


\end{document}